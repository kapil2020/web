<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kapil Meena | PhD Researcher | Sustainable Mobility & Air Quality</title>
  <meta name="description" content="Kapil Meena â€” Final-year PhD researcher at IIT Kharagpur specializing in travel behaviour, sustainable mobility, air quality exposure, and data-driven urban analytics." />
  <meta property="og:title" content="Kapil Meena | PhD Researcher | Sustainable Mobility & Air Quality" />
  <meta property="og:description" content="Kapil Meena â€” Final-year PhD researcher at IIT Kharagpur specializing in travel behaviour, sustainable mobility, air quality exposure, and data-driven urban analytics." />
  <meta property="og:image" content="https://raw.githubusercontent.com/kapil2020/web/main/kp_1.png" />
  <meta property="og:url" content="https://kapilmeena.com" />
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class', // Note: Changed to 'class' for manual toggle
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            primary: {
              50: '#f0f9ff',
              100: '#e0f2fe',
              200: '#bae6fd',
              300: '#7dd3fc',
              400: '#38bdf8',
              500: '#0ea5e9',
              600: '#0284c7', // Adjusted primary color
              700: '#0369a1',
              800: '#075985',
              900: '#0c4a6e',
            }
          },
           boxShadow: {
            soft: '0 10px 30px -12px rgba(0,0,0,0.25)'
           },
          animation: {
            'fade-in': 'fadeIn 0.8s ease-out forwards',
            'slide-up': 'slideUp 0.6s ease-out forwards',
            'float': 'float 6s ease-in-out infinite',
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'blob': 'blob 7s infinite',
            'tilt': 'tilt 10s infinite linear',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            slideUp: {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            float: {
              '0%, 100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            blob: {
              '0%': { transform: 'translate(0px, 0px) scale(1)' },
              '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
              '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
              '100%': { transform: 'translate(0px, 0px) scale(1)' }
            },
            tilt: {
              '0%, 100%': { transform: 'rotate(0deg)' },
              '25%': { transform: 'rotate(1deg)' },
              '50%': { transform: 'rotate(0eg)' },
              '75%': { transform: 'rotate(-1deg)' },
            }
          }
        }
      }
    }
  </script>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸš€</text></svg>">
  
  <!-- Custom Styles -->
  <style>
    :root {
      --glass-bg: rgba(255, 255, 255, 0.25);
      --glass-border: rgba(255, 255, 255, 0.18);
      --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
      --glass-backdrop: rgba(255, 255, 255, 0.2);
    }

    .dark {
      --glass-bg: rgba(15, 23, 42, 0.4);
      --glass-border: rgba(148, 163, 184, 0.2);
      --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
      --glass-backdrop: rgba(15, 23, 42, 0.2);
    }

    .glass {
      background: var(--glass-bg);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      box-shadow: var(--glass-shadow);
    }
    
    .nav-link.active {
      color: #0284c7; /* Tailwind primary-600 */
    }
    .dark .nav-link.active {
      color: #38bdf8; /* Tailwind primary-400 */
    }
    .nav-link.active span {
      width: 100%;
    }

    .text-gradient {
      background: linear-gradient(135deg, #0284c7, #0369a1, #075985);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .perspective-1000 {
      perspective: 1000px;
    }

    .glass-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      height: 100%; /* Ensure cards in a grid have same height */
      display: flex;
      flex-direction: column;
    }
    
    .glass-card-content {
      flex-grow: 1;
    }

    .glass-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .glass-card:hover::before {
      opacity: 1;
    }

    .glass-card:hover {
      transform: translateY(-8px) rotateX(2deg);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }

    .scrollbar-thin::-webkit-scrollbar {
      width: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.1);
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
      background: rgba(2, 132, 199, 0.5); /* primary-600 */
      border-radius: 3px;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb:hover {
      background: rgba(2, 132, 199, 0.7);
    }

    @media (max-width: 768px) {
      .glass-card:hover {
        transform: translateY(-4px);
      }
    }

    .metric-card {
      background: linear-gradient(135deg, var(--glass-bg), var(--glass-backdrop));
      transition: all 0.4s ease;
    }

    .metric-card:hover {
      transform: translateY(-10px) scale(1.02);
      background: linear-gradient(135deg, var(--glass-bg), rgba(2, 132, 199, 0.1));
    }

    .publication-timeline {
      position: relative;
      padding-left: 2rem;
    }

    .publication-timeline::before {
      content: '';
      position: absolute;
      left: 0.75rem;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, #0ea5e9, #0284c7);
    }

    .timeline-item {
      position: relative;
      margin-bottom: 2rem;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -3rem; /* Adjusted from -3rem */
      top: 0.5rem;
      width: 12px;
      height: 12px;
      background: #0ea5e9;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 0 0 3px #0ea5e9;
    }

    .fade-in-up {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease;
    }

    .fade-in-up.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .animate-blob {
      animation: blob 7s infinite;
    }
    
    .animation-delay-2000 { animation-delay: 2s; }
    .animation-delay-4000 { animation-delay: 4s; }
    
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* Particle background */
    #particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }
    
    /* === START: NEW STYLES FROM PUBLICATIONS FILE === */
    .no-scrollbar::-webkit-scrollbar{display:none}
    .no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}
    
    .fade-in{animation:fadeIn .35s ease-out both}
    @keyframes fadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}
    
    .year-sticky{position:sticky;top:4rem;z-index:10}
    
    /* This rule was duplicated, which is fine */
    .clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
    
    /* Publication item styles */
    .publication-item {
      transition: all 0.5s ease-out;
    }
    
    .publication-item.hidden {
      opacity: 0;
      transform: scale(0.95);
      max-height: 0;
      padding-top: 0;
      padding-bottom: 0;
      margin-bottom: 0;
      overflow: hidden;
    }
    
    /* Button styles from new JS, moved here */
    .btn{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .65rem;border-radius:.65rem;border:1px solid rgb(203 213 225/1);background:rgb(248 250 252/1);color:inherit;font-size:.8rem}
    .dark .btn{border-color:rgb(30 41 59/1);background:rgb(15 23 42/0.4)}
    .btn:hover{background:rgb(241 245 249/1)}
    .dark .btn:hover{background:rgb(30 41 59/1)}
    
    .btn-link {
      @apply text-xs font-semibold text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-full px-3 py-1 hover:bg-gray-100 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 transition-all;
    }
    
    .btn-link-doi {
       @apply text-xs font-semibold text-primary-600 dark:text-primary-400 border border-primary-300 dark:border-primary-600 rounded-full px-3 py-1 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-400 dark:hover:border-primary-500 transition-all;
    }
    
    .pub-tag {
       @apply inline-block bg-primary-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide;
    }
    
    .conf-tag {
       @apply inline-block bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide;
    }
    /* === END: NEW STYLES === */
    
  </style>
</head>

<body class="font-sans bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 antialiased overflow-x-hidden">
  <!-- Particles Background -->
  <canvas id="particles"></canvas>

  <!-- Loading Screen -->
  <div id="loading-screen" class="fixed inset-0 bg-white dark:bg-gray-900 z-50 flex items-center justify-center transition-opacity duration-1000">
    <div class="text-center">
      <div class="w-16 h-16 border-4 border-primary-200 dark:border-primary-800 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"></div>
      <div class="space-y-2">
        <div class="h-1 bg-primary-600 rounded-full mx-4 animate-pulse"></div>
        <div class="h-1 bg-primary-500 rounded-full mx-6 animate-pulse" style="animation-delay: 0.2s;"></div>
        <div class="h-1 bg-primary-400 rounded-full mx-8 animate-pulse" style="animation-delay: 0.4s;"></div>
      </div>
    </div>
  </div>

  <!-- Cursor -->
  <div id="cursor" class="fixed w-4 h-4 bg-primary-600 rounded-full pointer-events-none z-50 mix-blend-difference hidden lg:block" style="transition: transform 0.2s ease-out, width 0.3s ease, height 0.3s ease;"></div>

  <!-- Header -->
  <header class="fixed top-0 left-0 right-0 z-40 transition-all duration-300">
    <nav class="container mx-auto px-6 py-4 transition-all duration-300" id="navbar">
      <div class="flex items-center justify-between">
        <!-- Logo -->
        <a href="#home" class="group flex items-center space-x-3 transition-all duration-300 hover:scale-105">
          <div class="relative">
            <div class="w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-primary-500/25 transition-shadow duration-300">
              <i class="fas fa-route text-white text-sm"></i>
            </div>
            <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white dark:border-gray-900 animate-pulse"></div>
          </div>
          <div class="hidden md:block">
            <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-primary-600 dark:from-white dark:to-primary-400">Kapil Meena</h1>
            <p class="text-xs text-gray-600 dark:text-gray-400 font-medium">PhD | IIT Kharagpur</p>
          </div>
        </a>

        <!-- Desktop Navigation -->
        <ul class="hidden lg:flex items-center space-x-8">
          <li><a href="#about" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            About
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
          <li><a href="#research" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Research
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
          <li><a href="#publications" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Publications
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
          <li><a href="#projects" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Projects
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
          <li><a href="#experience" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Experience
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
          <li><a href="#awards" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Awards
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
          <li><a href="#contact" class="nav-link group relative text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
            Contact
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 group-hover:w-full transition-all duration-300"></span>
          </a></li>
        </ul>

        <!-- Right side controls -->
        <div class="flex items-center space-x-4">
          <!-- Theme Toggle -->
          <button id="theme-toggle" class="p-2 rounded-lg glass text-gray-700 dark:text-gray-300 hover:bg-white/20 dark:hover:bg-gray-800/20 transition-all duration-200" aria-label="Toggle dark mode">
            <i id="theme-icon" class="fas fa-moon text-lg"></i>
          </button>

          <!-- Mobile menu button -->
          <button id="mobile-menu-btn" class="lg:hidden p-2 rounded-lg glass text-gray-700 dark:text-gray-300 hover:bg-white/20 dark:hover:bg-gray-800/20 transition-all duration-200" aria-label="Toggle menu">
            <i class="fas fa-bars text-lg"></i>
          </button>

          <!-- CTA Button -->
          <a href="#contact" class="hidden md:block px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg text-sm font-semibold hover:from-primary-700 hover:to-primary-800 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-primary-500/25">
            Let's Connect
          </a>
        </div>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="lg:hidden hidden overflow-hidden transition-all duration-300 ease-out max-h-0">
      <div class="px-6 py-4 space-y-2 glass border-t border-white/20 dark:border-gray-800/50">
        <a href="#about" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">About</a>
        <a href="#research" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">Research</a>
        <a href="#publications" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">Publications</a>
        <a href="#projects" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">Projects</a>
        <a href="#experience" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">Experience</a>
        <a href="#awards" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">Awards</a>
        <a href="#contact" class="mobile-nav-link block px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors">Contact</a>
      </div>
    </div>
  </header>

  <main class="pt-20">
    <!-- Hero Section -->
    <section id="home" class="relative min-h-screen flex items-center justify-center overflow-hidden">
      <!-- Animated Background -->
      <div class="absolute inset-0">
        <div class="absolute inset-0 bg-gradient-to-br from-primary-50/50 via-white/80 to-blue-50/50 dark:from-gray-900/80 dark:via-gray-800/90 dark:to-primary-900/60"></div>
        <div class="absolute top-20 left-20 w-72 h-72 bg-primary-500/5 rounded-full mix-blend-multiply filter blur-xl animate-blob"></div>
        <div class="absolute top-40 right-20 w-72 h-72 bg-yellow-500/5 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000"></div>
        <div class="absolute -bottom-8 left-80 w-72 h-72 bg-pink-500/5 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-4000"></div>
      </div>

      <!-- Main Content -->
      <div class="container mx-auto px-6 relative z-10 text-center">
        <div class="max-w-4xl mx-auto">
          <!-- Profile Image -->
          <div class="mx-auto mb-8">
            <div class="relative group w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 mx-auto">
              <div class="absolute -inset-1 bg-gradient-to-r from-primary-600 via-blue-600 to-cyan-600 rounded-full blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"></div>
              <div class="relative w-full h-full bg-gradient-to-br from-primary-400 to-primary-600 rounded-full shadow-2xl border-4 border-white dark:border-gray-800 overflow-hidden">
                <img src="https://raw.githubusercontent.com/kapil2020/web/main/kp_1.png" alt="Kapil Meena" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
              </div>
            </div>
          </div>

          <!-- Hero Text -->
          <div class="space-y-6 fade-in-up">
            <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black leading-tight">
              <span class="block text-gray-900 dark:text-white">Kapil</span>
              <span class="block text-transparent bg-clip-text bg-gradient-to-r from-primary-600 via-blue-600 to-cyan-600">Meena</span>
            </h1>
            
            <div class="flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-sm sm:text-base">
              <span class="inline-flex items-center px-3 py-1 rounded-full text-primary-700 bg-primary-100 dark:bg-primary-900/30 dark:text-primary-300 font-medium">
                <i class="fas fa-graduation-cap mr-1.5"></i> PhD Candidate, IIT Kharagpur
              </span>
              <span class="inline-flex items-center px-3 py-1 rounded-full text-green-700 bg-green-100 dark:bg-green-900/30 dark:text-green-300 font-medium">
                <i class="fas fa-certificate mr-1.5"></i> MTech, IIT Roorkee
              </span>
            </div>

            <p class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed">
              Pioneering sustainable urban mobility through data-driven insights on travel behavior, air quality exposure, and green routing. Seeking to apply this research in a challenging postdoctoral role.
            </p>

            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
              <a href="#research" class="px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl font-semibold hover:from-primary-700 hover:to-primary-800 transform hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-primary-500/25 inline-flex items-center">
                <i class="fas fa-flask mr-2"></i> Explore Research
              </a>
              <a href="#contact" class="px-8 py-4 border-2 border-primary-600 text-primary-600 rounded-xl font-semibold hover:bg-primary-600 hover:text-white transform hover:scale-105 transition-all duration-300 inline-flex items-center">
                <i class="fas fa-envelope mr-2"></i> Postdoc Inquiry
              </a>
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-3 gap-6 max-w-2xl mx-auto pt-12">
              <div class="metric-card p-6 rounded-2xl text-center fade-in-up">
                <div class="text-3xl font-bold text-primary-600 dark:text-primary-400">
                  <span data-target="121">0</span>+
                </div>
                <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Citations</div>
              </div>
              <div class="metric-card p-6 rounded-2xl text-center fade-in-up" style="animation-delay: 0.1s;">
                <div class="text-3xl font-bold text-green-600 dark:text-green-400">
                  <span data-target="15">0</span>+
                </div>
                <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Publications</div>
              </div>
              <div class="metric-card p-6 rounded-2xl text-center fade-in-up" style="animation-delay: 0.2s;">
                <div class="text-3xl font-bold text-purple-600 dark:text-purple-400">
                  <span data-target="12">0</span>+
                </div>
                <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Conferences</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-24 bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-800">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">About Me</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">Driving sustainable mobility with 7+ years of data-driven research</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-16 items-center">
          <!-- Left: Content -->
          <div class="space-y-6 fade-in-up" data-aos-delay="200">
            <p class="text-lg leading-relaxed text-gray-700 dark:text-gray-300">
              I am a transportation researcher with <strong class="font-semibold text-primary-700 dark:text-primary-400">7+ years of experience</strong> in sustainable mobility, travel behavior analysis, and learning-based decision-making for complex urban systems. My goal is to develop <strong class="font-semibold text-primary-700 dark:text-primary-400">data-driven AI solutions</strong> for improved engineering and social outcomes, creating healthier and more sustainable cities. To this end, my work has resulted in <strong class="font-semibold text-primary-700 dark:text-primary-400">15+ publications</strong> in top-tier venues, accumulating over 121 citations.
            </p>
            <p class="text-lg leading-relaxed text-gray-700 dark:text-gray-300">
              In my current role as a final-year <strong class="font-semibold text-primary-700 dark:text-primary-400">PhD Researcher at IIT Kharagpur</strong>, I develop novel approaches using <strong class="font-semibold text-primary-700 dark:text-primary-400">Machine Learning</strong> and <strong class="font-semibold text-primary-700 dark:text-primary-400">discrete choice models</strong> to understand and influence travel decisions. This research has produced tangible tools, like the DRUM web app, which empowers commuters to make pollution-aware routing choices.
            </p>
            <p class="text-lg leading-relaxed text-gray-700 dark:text-gray-300">
              My foundational research during my MTech at IIT Roorkee focused on developing fundamental insights into commuter air quality exposure and effective algorithms for road safety. I am now actively seeking a <strong class="font-semibold text-primary-700 dark:text-primary-400">postdoctoral opportunity</strong> to apply my expertise in data science and behavioral modeling to solve challenging problems in autonomous systems, human-AI interaction in transport, or large-scale mobility networks.
            </p>
            
            <!-- Key Expertise Block -->
            <div class="mt-4">
              <h4 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-3">Key Expertise:</h4>
              <div class="flex flex-wrap gap-3">
                <span class="bg-primary-100 dark:bg-primary-900/30 px-4 py-2 rounded-full text-primary-800 dark:text-primary-200 font-medium">Travel Behavior Modeling</span>
                <span class="bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-full text-green-800 dark:text-green-200 font-medium">Machine Learning</span>
                <span class="bg-yellow-100 dark:bg-yellow-900/30 px-4 py-2 rounded-full text-yellow-800 dark:text-yellow-200 font-medium">Air Quality Exposure</span>
                <span class="bg-purple-100 dark:bg-purple-900/30 px-4 py-2 rounded-full text-purple-800 dark:text-purple-200 font-medium">Big Data Analysis</span>
                <span class="bg-red-100 dark:bg-red-900/30 px-4 py-2 rounded-full text-red-800 dark:text-red-200 font-medium">Sustainable Mobility</span>
              </div>
            </div>

            <!-- Education Cards -->
            <div class="grid md:grid-cols-2 gap-6 mt-8">
              <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="300">
                <div class="glass-card-content">
                  <i class="fas fa-graduation-cap text-primary-600 text-2xl mb-3"></i>
                  <h3 class="font-bold text-xl mb-2">PhD (2022â€“Present)</h3>
                  <p class="text-sm text-gray-600 dark:text-gray-400">IIT Kharagpur â€¢ Travel Behaviour & Air Quality</p>
                </div>
              </div>
              <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="400">
                <div class="glass-card-content">
                  <i class="fas fa-certificate text-green-600 text-2xl mb-3"></i>
                  <h3 class="font-bold text-xl mb-2">MTech (2019â€“2021)</h3>
                  <p class="text-sm text-gray-600 dark:text-gray-400">IIT Roorkee â€¢ Transportation Engineering</p>
                </div>
              </div>
              <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="500">
                <div class="glass-card-content">
                  <i class="fas fa-university text-blue-600 text-2xl mb-3"></i>
                  <h3 class="font-bold text-xl mb-2">BTech (2015â€“2019)</h3>
                  <p class="text-sm text-gray-600 dark:text-gray-400">RTU Kota â€¢ Civil Engineering (Honors)</p>
                </div>
              </div>
            </div>

            <!-- Links -->
            <div class="flex flex-wrap gap-6 mt-8">
              <a href="https://scholar.google.com/citations?user=5jIAPTEAAAAJ&hl=en" target="_blank" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 flex items-center font-medium transition-colors">
                <i class="fab fa-google-scholar mr-2"></i> Google Scholar
              </a>
              <a href="https://github.com/kapil2020" target="_blank" class="text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white flex items-center font-medium transition-colors">
                <i class="fab fa-github mr-2"></i> GitHub
              </a>
              <a href="https://sites.google.com/view/kapil-lab/home" target="_blank" class="text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center font-medium transition-colors">
                <i class="fas fa-flask mr-2"></i> Lab Site
              </a>
            </div>
          </div>

          <!-- Right: Image -->
          <div class="fade-in-up" data-aos-delay="600">
            <div class="relative perspective-1000">
              <img src="https://raw.githubusercontent.com/kapil2020/web/main/kp_1.png" alt="Kapil Meena in professional setting" class="w-full rounded-2xl shadow-2xl transition-transform duration-500 hover:rotate-y-15">
              <div class="absolute top-4 right-4 bg-primary-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg">
                <i class="fas fa-award mr-1"></i> Seeking Postdoc
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Research Section -->
    <section id="research" class="py-24 bg-white dark:bg-gray-900">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Research Focus</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">Decoding complex mobility choices for greener, healthier cities</p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Card 1 -->
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="150">
            <div class="glass-card-content">
              <i class="fas fa-lungs text-primary-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-2xl mb-4">Air Quality Exposure</h3>
              <p class="text-gray-600 dark:text-gray-400">Modeling the invisible: Quantifying commuter exposure and the health impacts of travel choices.</p>
            </div>
            <a href="#publications" class="mt-4 inline-block text-primary-600 hover:text-primary-700 dark:text-primary-400 font-medium">View Studies <i class="fas fa-arrow-right ml-1"></i></a>
          </div>
          <!-- Card 2 -->
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="200">
            <div class="glass-card-content">
              <i class="fas fa-route text-green-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-2xl mb-4">Sustainable Routing</h3>
              <p class="text-gray-600 dark:text-gray-400">From data to decision: The DRUM app for real-time, pollution-aware route planning.</p>
            </div>
            <a href="https://kapil2020.github.io/web" target="_blank" class="mt-4 inline-block text-green-600 hover:text-green-700 dark:text-green-400 font-medium">Demo App <i class="fas fa-external-link-alt ml-1"></i></a>
          </div>
          <!-- Card 3 -->
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="250">
            <div class="glass-card-content">
              <i class="fas fa-chart-line text-purple-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-2xl mb-4">Travel Behavior Modeling</h3>
              <p class="text-gray-600 dark:text-gray-400">Decoding decisions: Using discrete choice models to promote cycling and optimize urban development.</p>
            </div>
            <a href="#publications" class="mt-4 inline-block text-purple-600 hover:text-purple-700 dark:text-purple-400 font-medium">See Models <i class="fas fa-arrow-right ml-1"></i></a>
          </div>
          <!-- Card 4 -->
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="300">
            <div class="glass-card-content">
              <i class="fas fa-database text-red-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-2xl mb-4">Big Data Analysis</h3>
              <p class="text-gray-600 dark:text-gray-400">Handling large-scale spatial and temporal datasets to uncover hidden mobility patterns and trends.</p>
            </div>
            <a href="#skills" class="mt-4 inline-block text-red-600 hover:text-red-700 dark:text-red-400 font-medium">View Tools <i class="fas fa-arrow-right ml-1"></i></a>
          </div>
          <!-- Card 5 -->
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="350">
            <div class="glass-card-content">
              <i class="fas fa-brain text-yellow-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-2xl mb-4">Machine Learning</h3>
              <p class="text-gray-600 dark:text-gray-400">Applying ML for predictive modeling, from landslide prediction to identifying travel behavior drivers.</p>
            </div>
            <a href="#projects" class="mt-4 inline-block text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 font-medium">See Projects <i class="fas fa-arrow-right ml-1"></i></a>
          </div>
          <!-- Card 6 -->
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="400">
            <div class="glass-card-content">
              <i class="fas fa-bicycle text-blue-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-2xl mb-4">Active Mobility</h3>
              <p class="text-gray-600 dark:text-gray-400">Analyzing and promoting walking and cycling through health impact assessment and choice modeling.</p>
            </div>
            <a href="#publications" class="mt-4 inline-block text-blue-600 hover:text-blue-700 dark:text-blue-400 font-medium">See Papers <i class="fas fa-arrow-right ml-1"></i></a>
          </div>
        </div>


        <!-- Key Research Areas Timeline -->
        <div class="mt-20">
          <h3 class="text-2xl font-bold mb-12 text-center fade-in-up">Research Journey</h3>
          <div class="publication-timeline max-w-4xl mx-auto">
            
            <div class="timeline-item fade-in-up">
              <h4 class="font-bold text-xl">2026 (Future Work): Advanced Behavioral Models</h4>
              <p class="text-gray-600 dark:text-gray-400">Work accepted at TRB 2026, using hybrid latent class models to prove "not all travellers think alike" in pollution avoidance.</p>
            </div>
            <div class="timeline-item fade-in-up">
              <h4 class="font-bold text-xl">2025 (Tool Development): The DRUM App</h4>
              <p class="text-gray-600 dark:text-gray-400">Developed and presented the DRUM web app for dynamic green routing at TRB. This work was featured in *The Hindu* and published in *TRR*.</p>
            </div>
            <div class="timeline-item fade-in-up">
              <h4 class="font-bold text-xl">2024 (Synthesizing Behavior & Policy)</h4>
              <p class="text-gray-600 dark:text-gray-400">Published major reviews and analyses in *Transport Policy* and *Urban Climate*, connecting air quality awareness to travel behavior and the impacts of Transit-Oriented Development (TOD).</p>
            </div>
            <div class="timeline-item fade-in-up">
              <h4 class="font-bold text-xl">2023 (Model Deep-Dive):</h4>
              <p class="text-gray-600 dark:text-gray-400">Presented a systematic review on air pollution & travel behavior at WCTR, Montreal. Published key work in *Journal of Transport Geography* prioritizing TOD corridors using MCDM.</p>
            </div>
            <div class="timeline-item fade-in-up">
              <h4 class="font-bold text-xl">2022 (PhD Begins): Behavioral Focus</h4>
              <p class="text-gray-600 dark:text-gray-400">Began PhD at IIT Kharagpur, shifting focus to behavioral modeling. Explored commuter perceptions of air quality in Delhi, presented at TRB.</p>
            </div>
            <div class="timeline-item fade-in-up">
              <h4 class="font-bold text-xl">2019-2021 (MTech Focus): Exposure & Safety</h4>
              <p class="text-gray-600 dark:text-gray-400">Started at IIT Roorkee, analyzing commuter exposure in different modes (*Urban Climate*) and developing methodologies for road safety blackspot identification (*TRP-D*).</p>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Publications Section -->
    <section id="publications" class="bg-gray-50 dark:bg-gray-800">
      <!-- Intro + Controls -->
      <div class="bg-gradient-to-b from-slate-100 to-transparent dark:from-slate-900/40">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 lg:py-10">
          <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6">
            <div>
              <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Publications</h2>
              <p class="mt-2 max-w-2xl text-slate-600 dark:text-slate-400">Verified entries from TRR, Transport Policy, DAJ, JTH, Urban Climate, COMSNETS, TRB, and more. Search, filter, group by year, and open a modal for BibTeX, links, and tags.</p>
            </div>
            <div class="hidden sm:flex items-center gap-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 px-3 py-2 text-sm">
              <span>Count</span><span class="h-5 w-px bg-slate-200 dark:bg-slate-800"></span>
              <span id="statTotal" class="font-semibold tabular-nums">0</span>
            </div>
          </div>
          <div class="mt-6 grid grid-cols-1 lg:grid-cols-12 gap-3">
            <label class="lg:col-span-6 relative">
              <input id="search" type="search" placeholder="Search title, author, venue, tagâ€¦ ( / )" class="w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 px-4 py-3 pr-10 focus:outline-none focus:ring-2 focus:ring-indigo-500 placeholder:text-slate-400" />
              <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="currentColor"><path d="M21 21 15.8 15.8m-2.8 1a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>
            </label>
            <div class="lg:col-span-6 grid grid-cols-2 sm:grid-cols-4 gap-2">
              <select id="yearFilter" class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 px-3 py-2"><option value="">All years</option></select>
              <select id="typeFilter" class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 px-3 py-2">
                <option value="">All types</option><option>Journal</option><option>Conference</option><option>Media</option>
              </select>
              <select id="venueFilter" class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 px-3 py-2"><option value="">All venues</option></select>
              <select id="sortBy" class="rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 px-3 py-2">
                <option value="yearDesc">Sort: Year â†“</option>
                <option value="yearAsc">Sort: Year â†‘</option>
                <option value="titleAsc">Sort: Title Aâ†’Z</option>
              </select>
            </div>
          </div>
          <div id="activeChips" class="no-scrollbar mt-3 overflow-x-auto flex gap-2"></div>
        </div>
      </div>

      <!-- Results -->
      <main>
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-20">
          <div id="grouped"></div>
          <div id="emptyState" class="hidden py-20 text-center text-slate-500 dark:text-slate-400">
            <div class="mx-auto w-20 h-20 rounded-2xl bg-slate-100 dark:bg-slate-800 grid place-items-center mb-4">
              <svg class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm1 5H8v2h5V9Zm3 4H8v2h8v-2Z"/></svg>
            </div>
            No results. Try different filters or search terms.
          </div>
        </div>
      </main>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-24 bg-white dark:bg-gray-900">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Projects & Repositories</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">From theory to reality: Projects driving real-world impact</p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Project 1 -->
          <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="200">
            <div class="glass-card-content">
              <i class="fas fa-globe text-primary-600 text-3xl mb-4"></i>
              <h3 class="font-bold text-xl mb-3">DRUM Web App</h3>
              <p class="text-gray-600 dark:text-gray-400 line-clamp-2">Dynamic route planning integrating air pollution and energy efficiency for urban commuters.</p>
            </div>
            <div class="flex justify-between items-center mt-4">
              <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium">Live Demo</span>
              <a href="https://kapil2020.github.io/web" target="_blank" class="text-primary-600 hover:underline font-medium">View App <i class="fas fa-external-link-alt ml-1 text-xs"></i></a>
            </div>
          </div>
          <!-- Project 2 -->
          <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="300">
            <div class="glass-card-content">
              <i class="fas fa-city text-green-600 text-3xl mb-4"></i>
              <h3 class="font-bold text-xl mb-3">TUTEM (ADB-Funded)</h3>
              <p class="text-gray-600 dark:text-gray-400 line-clamp-2">Technologies for urban transit enhancement and safe accessibility at IIT Kharagpur.</p>
            </div>
            <div class="flex justify-between items-center mt-4">
              <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium">2024-2025</span>
              <a href="#" class="text-primary-600 hover:underline font-medium" data-modal-trigger="proj-tutem">Details</a>
            </div>
          </div>
          <!-- Project 3 -->
          <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="400">
            <div class="glass-card-content">
              <i class="fas fa-cloud text-purple-600 text-3xl mb-4"></i>
              <h3 class="font-bold text-xl mb-3">Air Quality Perception Delhi</h3>
              <p class="text-gray-600 dark:text-gray-400 line-clamp-2">Commuter perceptions and ML models for behavior influence, IIT Roorkee.</p>
            </div>
            <div class="flex justify-between items-center mt-4">
              <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium">Published</span>
              <a href="https://doi.org/10.1016/j.tranpol.2024.03.011" target="_blank" class="text-primary-600 hover:underline font-medium">View Paper <i class="fas fa-external-link-alt ml-1 text-xs"></i></a>
            </div>
          </div>
          <!-- Project 4 -->
          <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="500">
            <div class="glass-card-content">
              <i class="fas fa-car text-orange-600 text-3xl mb-4"></i>
              <h3 class="font-bold text-xl mb-3">MaaS Demand Study</h3>
              <p class="text-gray-600 dark:text-gray-400 line-clamp-2">Forecasting demand for Mobility as a Service in Indian contexts.</p>
            </div>
            <div class="flex justify-between items-center mt-4">
              <span class="px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded-full font-medium">2022</span>
              <a href="#" class="text-primary-600 hover:underline font-medium" data-modal-trigger="proj-maas">Report</a>
            </div>
          </div>
          <!-- Project 5 -->
          <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="600">
            <div class="glass-card-content">
              <i class="fas fa-bicycle text-blue-600 text-3xl mb-4"></i>
              <h3 class="font-bold text-xl mb-3">Bicycle Choice Modeling</h3>
              <p class="text-gray-600 dark:text-gray-400 line-clamp-2">Health impacts of first/last-mile cycling to rail stations.</p>
            </div>
            <div class="flex justify-between items-center mt-4">
              <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium">2025</span>
              <a href="https://doi.org/10.1080/15568318.2024.2384786" target="_blank" class="text-primary-600 hover:underline font-medium">View Study <i class="fas fa-external-link-alt ml-1 text-xs"></i></a>
            </div>
          </div>
          <!-- Project 6 -->
          <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="700">
            <div class="glass-card-content">
              <i class="fas fa-school text-teal-600 text-3xl mb-4"></i>
              <h3 class="font-bold text-xl mb-3">School Commute Exposure</h3>
              <p class="text-gray-600 dark:text-gray-400 line-clamp-2">Multi-mode air pollution assessment for children in urban environments.</p>
            </div>
            <div class="flex justify-between items-center mt-4">
              <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full font-medium">EASTS Accepted</span>
              <a href="#" class="text-primary-600 hover:underline font-medium" data-modal-trigger="conf-easts-2025">Abstract</a>
            </div>
          </div>
        </div>

        <!-- GitHub Repos -->
        <div class="mt-20">
          <h3 class="text-2xl font-bold mb-12 text-center fade-in-up">Key Repositories</h3>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto">
            
            <!-- Repo 1 -->
            <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="200">
              <div class="glass-card-content">
                <div class="flex justify-between items-center mb-4">
                  <h3 class="font-bold text-xl">DRUM-Web-App</h3>
                  <span class="flex items-center text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 1</span>
                </div>
                <p class="text-gray-600 dark:text-gray-400 line-clamp-3">Source code for the Dynamic Route Planning for Urban Mobility (DRUM) web application, featured at TRB 2025.</p>
              </div>
              <a href="https://github.com/kapil2020/DRUM-Web-App" target="_blank" class="mt-4 inline-block text-primary-600 hover:text-primary-700 dark:text-primary-400 font-medium">View on GitHub <i class="fab fa-github ml-1"></i></a>
            </div>
            
            <!-- Repo 2 -->
            <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="300">
              <div class="glass-card-content">
                <div class="flex justify-between items-center mb-4">
                  <h3 class="font-bold text-xl">Landslide_Prediction</h3>
                  <span class="flex items-center text-sm text-yellow-500"><i class="fas fa-star mr-1"></i> 1</span>
                </div>
                <p class="text-gray-600 dark:text-gray-400 line-clamp-3">Implementation of Machine Learning models for predicting landslide susceptibility in the Himalayan region.</p>
              </div>
              <a href="https://github.com/kapil2020/Landslide_Prediction" target="_blank" class="mt-4 inline-block text-primary-600 hover:text-primary-700 dark:text-primary-400 font-medium">View on GitHub <i class="fab fa-github ml-1"></i></a>
            </div>

            <!-- Repo 3 -->
            <div class="glass-card p-6 rounded-2xl fade-in-up" data-aos-delay="400">
              <div class="glass-card-content">
                <div class="flex justify-between items-center mb-4">
                  <h3 class="font-bold text-xl">TOD-Prioritization</h3>
                  <span class="flex items-center text-sm text-gray-500"><i class="fas fa-star mr-1"></i> 0</span>
                </div>
                <p class="text-gray-600 dark:text-gray-400 line-clamp-3">Code for Multi-Criteria Decision Making (MCDM) analysis used to prioritize corridors for Transit-Oriented Development (TOD).</p>
              </div>
              <a href="https://github.com/kapil2020/TOD-Prioritization" target="_blank" class="mt-4 inline-block text-primary-600 hover:text-primary-700 dark:text-primary-400 font-medium">View on GitHub <i class="fab fa-github ml-1"></i></a>
            </div>

          </div>
        </div>
        
      </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="py-24 bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Experience</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">From research labs to industry impact</p>
        </div>

        <div class="max-w-4xl mx-auto publication-timeline">
          <!-- Timeline Items -->
            <div class="timeline-item fade-in-up">
              <div class="glass-card p-6 rounded-2xl">
                <div class="flex items-start space-x-4">
                  <div class="flex-shrink-0">
                    <div class="w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center">
                      <i class="fas fa-building text-white"></i>
                    </div>
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-xl mb-1">World Resources Institute, India</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">Research Consultant | Nov 2021 â€“ Mar 2022</p>
                    <p class="text-gray-700 dark:text-gray-300">Analyzed inhaled dose and exposure for commuters inside vehicles vs. ambient conditions. Advised by Aparna Vijaykumar.</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="timeline-item fade-in-up">
              <div class="glass-card p-6 rounded-2xl">
                <div class="flex items-start space-x-4">
                  <div class="flex-shrink-0">
                    <div class="w-12 h-12 bg-green-600 rounded-full flex items-center justify-center">
                      <i class="fas fa-chalkboard-teacher text-white"></i>
                    </div>
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-xl mb-1">Teaching Assistantships</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">IIT Kharagpur & IIT Roorkee | 2019â€“2023</p>
                    <ul class="space-y-1 text-sm text-gray-700 dark:text-gray-300 list-disc list-inside">
                      <li>CE13001: Engineering Drawing, IIT Kharagpur (2023)</li>
                      <li>NPTEL: Multimodal Urban Transport (2022)</li>
                      <li>CEN 662: Intersection Design, IIT Roorkee (2020)</li>
                      <li>CEN 562: Pavement Analysis, IIT Roorkee (2019)</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="timeline-item fade-in-up">
              <div class="glass-card p-6 rounded-2xl">
                <div class="flex items-start space-x-4">
                  <div class="flex-shrink-0">
                    <div class="w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center">
                      <i class="fas fa-microphone text-white"></i>
                    </div>
                  </div>
                  <div class="flex-1">
                    <h3 class="font-bold text-xl mb-1">Expert Lectures & Workshops</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">Knowledge Sharing | 2019â€“2025</p>
                    <ul class="space-y-1 text-sm text-gray-700 dark:text-gray-300 list-disc list-inside">
                      <li>DRUM Talk, Google India (June 2025)</li>
                      <li>Data Visualization with Tableau, Swastik Edustart (2022)</li>
                      <li>Transportation Data Analysis, NIT Calicut (2022)</li>
                      <li>Quality Control in Roads, IIT Roorkee (2020)</li>
                      <li>Concrete Mix Design, Wonder Cement (2019)</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </section>

    <!-- Awards Section -->
    <section id="awards" class="py-24 bg-white dark:bg-gray-800">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Awards & Achievements</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">Recognitions for excellence in research and leadership</p>
        </div>

        <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="200">
            <div class="glass-card-content">
              <i class="fas fa-trophy text-yellow-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">Best Presentation</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">Research Scholar Day, IITKGP</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="300">
            <div class="glass-card-content">
              <i class="fas fa-medal text-green-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">Best Poster</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">CyPhySS 2023</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="400">
            <div class="glass-card-content">
              <i class="fas fa-plane text-blue-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">Travel Grant</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">Univ. of Leeds Exchange</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="500">
            <div class="glass-card-content">
              <i class="fas fa-crown text-orange-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">GATE Rank 559</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">Civil Engineering, 2019</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="600">
            <div class="glass-card-content">
              <i class="fas fa-certificate text-purple-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">MHRD Fellowship</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">PhD Research Support</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="700">
            <div class="glass-card-content">
              <i class="fas fa-newspaper text-red-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">The Hindu Feature</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">DRUM App Coverage, 2025</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="800">
            <div class="glass-card-content">
              <i class="fas fa-graduation-cap text-indigo-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">Honors Degree</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">BTech Civil Engineering</p>
            </div>
          </div>
          <div class="glass-card p-6 rounded-2xl text-center fade-in-up" data-aos-delay="900">
            <div class="glass-card-content">
              <i class="fas fa-child text-teal-600 text-3xl mb-3"></i>
              <h4 class="font-bold mb-1">Science Congress Winner</h4>
              <p class="text-sm text-gray-600 dark:text-gray-400">Regional Level, DST 2014</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-24 bg-gray-50 dark:bg-gray-900">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Skills & Expertise</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">Technical toolkit for transportation innovation</p>
        </div>

        <div class="grid md:grid-cols-3 gap-8 mb-16">
          <div class="text-center fade-in-up" data-aos-delay="200">
            <h3 class="text-xl font-bold mb-6 flex items-center justify-center text-primary-600">
              <i class="fas fa-code mr-2"></i> Programming
            </h3>
            <div class="flex flex-wrap justify-center gap-3">
              <span class="bg-primary-100 dark:bg-primary-900/30 px-4 py-2 rounded-lg text-primary-800 dark:text-primary-200 font-medium">Python</span>
              <span class="bg-primary-100 dark:bg-primary-900/30 px-4 py-2 rounded-lg text-primary-800 dark:text-primary-200 font-medium">R</span>
              <span class="bg-primary-100 dark:bg-primary-900/30 px-4 py-2 rounded-lg text-primary-800 dark:text-primary-200 font-medium">JavaScript</span>
              <span class="bg-primary-100 dark:bg-primary-900/30 px-4 py-2 rounded-lg text-primary-800 dark:text-primary-200 font-medium">ReactJS</span>
            </div>
          </div>
          <div class="text-center fade-in-up" data-aos-delay="300">
            <h3 class="text-xl font-bold mb-6 flex items-center justify-center text-green-600">
              <i class="fas fa-chart-bar mr-2"></i> Data Analysis
            </h3>
            <div class="flex flex-wrap justify-center gap-3">
              <span class="bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg text-green-800 dark:text-green-200 font-medium">Tableau</span>
              <span class="bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg text-green-800 dark:text-green-200 font-medium">NLOGIT</span>
              <span class="bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg text-green-800 dark:text-green-200 font-medium">SPSS</span>
              <span class="bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg text-green-800 dark:text-green-200 font-medium">QGIS</span>
              <span class="bg-green-100 dark:bg-green-900/30 px-4 py-2 rounded-lg text-green-800 dark:text-green-200 font-medium">MiniTab</span>
            </div>
          </div>
          <div class="text-center fade-in-up" data-aos-delay="400">
            <h3 class="text-xl font-bold mb-6 flex items-center justify-center text-purple-600">
              <i class="fas fa-database mr-2"></i> Tools & Databases
            </h3>
            <div class="flex flex-wrap justify-center gap-3">
              <span class="bg-purple-100 dark:bg-purple-900/30 px-4 py-2 rounded-lg text-purple-800 dark:text-purple-200 font-medium">MySQL</span>
              <span class="bg-purple-100 dark:bg-purple-900/30 px-4 py-2 rounded-lg text-purple-800 dark:text-purple-200 font-medium">MongoDB</span>
              <span class="bg-purple-100 dark:bg-purple-900/30 px-4 py-2 rounded-lg text-purple-800 dark:text-purple-200 font-medium">LaTeX</span>
              <span class="bg-purple-100 dark:bg-purple-900/30 px-4 py-2 rounded-lg text-purple-800 dark:text-purple-200 font-medium">JabRef</span>
            </div>
          </div>
        </div>

        <!-- Peer Review & Memberships -->
        <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-12 fade-in-up" data-aos-delay="500">
          <div>
            <h3 class="text-2xl font-bold mb-6 text-center">Peer Reviewer</h3>
            <div class="flex flex-wrap justify-center gap-3 text-sm">
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-check mr-1.5 text-primary-600"></i>Transp. Res. Part A</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-check mr-1.5 text-primary-600"></i>Transp. Res. Part D</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-check mr-1.5 text-primary-600"></i>Transport Policy</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-check mr-1.5 text-primary-600"></i>RTBM</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-check mr-1.5 text-primary-600"></i>TRR (SAGE)</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-check mr-1.5 text-primary-600"></i>Transp. Dev. Econ.</div>
            </div>
          </div>
          <div>
            <h3 class="text-2xl font-bold mb-6 text-center">Professional Memberships</h3>
            <div class="flex flex-wrap justify-center gap-3 text-sm">
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-users mr-1.5 text-blue-600"></i>ASCE T&DI</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-users mr-1.5 text-blue-600"></i>TRG India</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-users mr-1.5 text-blue-600"></i>WCTR Society</div>
              <div class="bg-gray-200 dark:bg-gray-700 p-3 rounded-lg font-medium"><i class="fas fa-users mr-1.5 text-blue-600"></i>IATBR</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Leadership Section -->
    <section id="leadership" class="py-24 bg-white dark:bg-gray-900">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Leadership & Community</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto fade-in-up" data-aos-delay="100">Organizing for sustainable infrastructure futures</p>
        </div>

        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="200">
            <div class="glass-card-content">
              <h3 class="text-xl font-bold mb-4 flex items-center text-orange-600">
                <i class="fas fa-handshake mr-2"></i> Positions of Responsibility
              </h3>
              <ul class="space-y-3 text-gray-700 dark:text-gray-300">
                <li class="flex items-start"><i class="fas fa-arrow-right text-orange-600 mr-2 w-5 mt-1.5 flex-shrink-0"></i><span>Overall Coordinator, 2nd IBSR Conference 2024, IITKGP</span></li>
                <li class="flex items-start"><i class="fas fa-arrow-right text-orange-600 mr-2 w-5 mt-1.5 flex-shrink-0"></i><span>Overall Coordinator, IBSR Conference 2023, IITKGP</span></li>
                <li class="flex items-start"><i class="fas fa-arrow-right text-orange-600 mr-2 w-5 mt-1.5 flex-shrink-0"></i><span>Dept. Social Media Head, IITKGP (2022-23)</span></li>
                <li class="flex items-start"><i class="fas fa-arrow-right text-orange-600 mr-2 w-5 mt-1.5 flex-shrink-0"></i><span>Placement Rep., IIT Roorkee (2020-21)</span></li>
              </ul>
            </div>
          </div>
          <div class="glass-card p-8 rounded-2xl fade-in-up" data-aos-delay="300">
            <div class="glass-card-content">
              <h3 class="text-xl font-bold mb-4 flex items-center text-indigo-600">
                <i class="fas fa-calendar-check mr-2"></i> Conferences Organized
              </h3>
              <ul class="space-y-3 text-gray-700 dark:text-gray-300">
                <li class="flex items-start"><i class="fas fa-arrow-right text-indigo-600 mr-2 w-5 mt-1.5 flex-shrink-0"></i><span>Coordinator, IBSR 2023: Sustainable Societies, IITKGP</span></li>
                <li class="flex items-start"><i class="fas fa-arrow-right text-indigo-600 mr-2 w-5 mt-1.5 flex-shrink-0"></i><span>Coordinator, 2nd IBSR 2024: Resilient Infrastructure, Kolkata</span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 relative overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-primary-50 via-blue-50 to-indigo-100 dark:from-primary-900/50 dark:via-gray-900 dark:to-indigo-900/50"></div>
      <div class="container mx-auto px-6 relative z-10">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-black mb-4 fade-in-up">Get In Touch</h2>
          <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto fade-in-up" data-aos-delay="100">I'm actively seeking postdoctoral collaborations. Let's discuss opportunities via email, phone, or LinkedIn.</p>
        </div>

        <div class="grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mb-12">
          <div class="glass-card p-8 rounded-2xl text-center fade-in-up" data-aos-delay="200">
            <div class="glass-card-content">
              <i class="fas fa-envelope text-primary-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-xl mb-2">Email</h3>
              <p class="text-gray-700 dark:text-gray-300 mb-4 break-all">kapil.meena@kgpian.iitkgp.ac.in</p>
            </div>
            <a href="mailto:kapil.meena@kgpian.iitkgp.ac.in" class="text-primary-600 hover:underline font-medium mt-4">Send Message</a>
          </div>
          <div class="glass-card p-8 rounded-2xl text-center fade-in-up" data-aos-delay="300">
            <div class="glass-card-content">
              <i class="fas fa-phone text-green-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-xl mb-2">Phone</h3>
              <p class="text-gray-700 dark:text-gray-300 mb-4">+91 8875385597</p>
            </div>
            <a href="tel:+918875385597" class="text-green-600 hover:underline font-medium mt-4">Call Now</a>
          </div>
          <div class="glass-card p-8 rounded-2xl text-center fade-in-up" data-aos-delay="400">
            <div class="glass-card-content">
              <i class="fab fa-linkedin text-blue-600 text-4xl mb-4"></i>
              <h3 class="font-bold text-xl mb-2">LinkedIn</h3>
              <p class="text-gray-700 dark:text-gray-300 mb-4">kapil-meena-2020</p>
            </div>
            <a href="https://www.linkedin.com/in/kapil-meena-2020" target="_blank" class="text-blue-600 hover:underline font-medium mt-4">Connect</a>
          </div>
        </div>

        <!-- Social Links -->
        <div class="flex justify-center space-x-8 mt-16 fade-in-up" data-aos-delay="600">
          <a href="https://scholar.google.com/citations?user=5jIAPTEAAAAJ&hl=en" target="_blank" aria-label="Google Scholar" class="text-2xl text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition transform hover:scale-125">
            <i class="fab fa-google-scholar"></i>
          </a>
          <a href="https://github.com/kapil2020" target="_blank" aria-label="GitHub" class="text-2xl text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition transform hover:scale-125">
            <i class="fab fa-github"></i>
          </a>
          <a href="https://www.linkedin.com/in/kapil-meena-2020" target="_blank" aria-label="LinkedIn" class="text-2xl text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition transform hover:scale-125">
            <i class="fab fa-linkedin"></i>
          </a>
          <a href="https://twitter.com/kapilmeena2020" target="_blank" aria-label="Twitter" class="text-2xl text-gray-700 dark:text-gray-300 hover:text-blue-400 dark:hover:text-blue-300 transition transform hover:scale-125">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="https://sites.google.com/view/kapil-lab/home" target="_blank" aria-label="Lab Site" class="text-2xl text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 transition transform hover:scale-125">
            <i class="fas fa-home"></i>
          </a>
        </div>
      </div>
    </section>
  </main>

  <!-- New Modal HTML -->
  <div id="modal" class="fixed inset-0 z-50 hidden" aria-hidden="true">
    <div class="absolute inset-0 bg-black/50" id="modalBackdrop"></div>
    <div class="absolute inset-0 grid place-items-center p-4">
      <div class="w-full max-w-3xl rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
        <div class="flex items-start justify-between p-5 border-b border-slate-200 dark:border-slate-800">
          <h3 id="modalTitle" class="text-lg font-semibold"></h3>
          <button id="modalClose" class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" aria-label="Close">
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M6.4 4.99 5 6.4l5.6 5.6L5 17.6 6.4 19l5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6 5.6-5.6-1.4-1.4-5.6 5.6L6.4 4.99Z"/></svg>
          </button>
        </div>
        <div class="p-5 space-y-4">
          <div id="modalMeta" class="text-sm text-slate-600 dark:text-slate-400"></div>
          <p id="modalAbstract" class="text-slate-700 dark:text-slate-300"></p>
          <div class="flex flex-wrap gap-2" id="modalTags"></div>
          <div class="flex flex-wrap items-center gap-2" id="modalActions"></div>
          <div class="rounded-xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 p-3">
            <div class="flex items-center justify-between">
              <div class="text-sm font-medium">BibTeX</div>
              <button id="copyBib" class="text-xs rounded-lg px-2 py-1 bg-indigo-600 text-white hover:bg-indigo-500">Copy</button>
            </div>
            <pre id="modalBib" class="mt-2 overflow-auto text-xs leading-relaxed"></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Other Modals (for Projects) -->
  <div id="modal-container" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
    <!-- Project Modals -->
    <div id="proj-tutem" class="modal hidden w-full max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden transform scale-95 opacity-0 transition-all duration-300">
      <div class="p-6 border-b border-gray-200 dark:border-gray-700">
        <div class="flex justify-between items-center">
          <h3 class="font-bold text-xl">Project Details</h3>
          <button data-modal-close class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl">&times;</button>
        </div>
      </div>
      <div class="p-6 max-h-96 overflow-y-auto scrollbar-thin">
        <h4 class="font-bold text-lg mb-2">TUTEM (ADB-Funded Project)</h4>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Technologies for urban transit enhancement and safe accessibility</p>
        <p class="text-gray-700 dark:text-gray-300">As part of this Asian Development Bank (ADB) funded initiative at IIT Kharagpur, my role involves developing and assessing technologies to improve urban transit. This includes working on real-time data integration for multimodal transport systems, optimizing first/last-mile connectivity, and enhancing passenger safety and accessibility, particularly for vulnerable road users.</p>
      </div>
    </div>

    <div id="proj-maas" class="modal hidden w-full max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden transform scale-95 opacity-0 transition-all duration-300">
      <div class="p-6 border-b border-gray-200 dark:border-gray-700">
        <div class="flex justify-between items-center">
          <h3 class="font-bold text-xl">Project Details</h3>
          <button data-modal-close class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl">&times;</button>
        </div>
      </div>
      <div class="p-6 max-h-96 overflow-y-auto scrollbar-thin">
        <h4 class="font-bold text-lg mb-2">MaaS Demand Study</h4>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Forecasting demand for Mobility as a Service in Indian contexts</p>
        <p class="text-gray-700 dark:text-gray-300">This project involved a comprehensive study to forecast the potential demand for Mobility as a Service (MaaS) platforms in major Indian cities. We utilized stated preference surveys and discrete choice modeling to understand user preferences for bundled mobility packages, identifying key barriers and drivers for MaaS adoption in the unique Indian urban landscape.</p>
      </div>
    </div>
    
    <div id="conf-easts-2025" class="modal hidden w-full max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden transform scale-95 opacity-0 transition-all duration-300">
      <div class="p-6 border-b border-gray-200 dark:border-gray-700">
        <div class="flex justify-between items-center">
          <h3 class="font-bold text-xl">EASTS 2025 (Accepted)</h3>
          <button data-modal-close class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl">&times;</button>
        </div>
      </div>
      <div class="p-6 max-h-96 overflow-y-auto scrollbar-thin">
        <h4 class="font-bold text-lg mb-2">Assessing air pollution exposure to school children in Kharagpur</h4>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Sumbhate, Meena, et al.</p>
        <p class="text-gray-700 dark:text-gray-300">This paper presents a comparative analysis of air pollution exposure for school children across different travel modes (walking, cycling, bus, car) in Kharagpur. We used portable sensors to measure real-time PM2.5 concentrations and GPS to track routes, revealing that active transport modes, while beneficial for health, can lead to higher inhaled doses without proper infrastructure and routing.</p>
      </div>
    </div>
  </div>


  <!-- Footer -->
  <footer class="py-12 bg-gray-900 text-white text-center">
    <div class="container mx-auto px-6">
      <p class="mb-4">&copy; 2025 Kapil Kumar Meena. Built with <i class="fas fa-heart text-red-500"></i> for sustainable impact.</p>
      <p class="text-sm text-gray-400">Actively seeking postdoctoral opportunities in sustainable mobility research.</p>
    </div>
  </footer>

  <!-- Scroll Progress Bar -->
  <div id="scroll-progress" class="fixed top-0 left-0 h-1 bg-gradient-to-r from-primary-600 to-blue-600 z-50" style="width: 0%; transition: width 0.1s ease-out;"></div>
  
  <!-- Back to Top Button -->
  <button id="back-to-top" class="fixed bottom-6 right-6 z-40 w-12 h-12 rounded-full bg-primary-600 text-white shadow-lg flex items-center justify-center opacity-0 transform translate-y-4 transition-all duration-300 hover:bg-primary-700 hover:scale-110">
    <i class="fas fa-arrow-up"></i>
  </button>

  <script>
    // Theme Toggle
    function initThemeToggle() {
      const html = document.documentElement;
      const themeToggle = document.getElementById('theme-toggle');
      const themeIcon = document.getElementById('theme-icon');

      const setTema = (theme) => {
        html.classList.toggle('dark', theme === 'dark');
        themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        localStorage.setItem('theme', theme);
      };

      const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      setTema(savedTheme);

      themeToggle.addEventListener('click', () => {
        setTema(html.classList.contains('dark') ? 'light' : 'dark');
      });

      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
        if (!localStorage.getItem('theme')) {
          setTema(e.matches ? 'dark' : 'light');
        }
      });
    }

    // Mobile Menu
    function initMobileMenu() {
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const menuIcon = mobileMenuBtn.querySelector('i');

      const toggleMenu = (open) => {
        const isOpen = open !== undefined ? open : mobileMenu.classList.contains('hidden');
        mobileMenu.classList.toggle('hidden', !isOpen);
        mobileMenu.style.maxHeight = isOpen ? '500px' : '0';
        menuIcon.className = isOpen ? 'fas fa-times' : 'fas fa-bars';
        document.body.style.overflow = isOpen ? 'hidden' : '';
      };
      
      mobileMenuBtn.addEventListener('click', () => toggleMenu());

      document.querySelectorAll('.mobile-nav-link').forEach(link => {
        link.addEventListener('click', () => toggleMenu(false));
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
          toggleMenu(false);
        }
      });
    }

    // Smooth Scrolling and Active Nav
    function initSmoothScrolling() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const target = document.querySelector(targetId);
          if (target) {
            const offsetTop = target.offsetTop - 80; // Header offset
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });
            // Update URL hash without jumping
            if (history.pushState) {
              history.pushState(null, null, targetId);
            } else {
              window.location.hash = targetId;
            }
          }
        });
      });

      const sections = document.querySelectorAll('section[id]');
      const navLinks = document.querySelectorAll('.nav-link');
      
      const observer = new IntersectionObserver((entries) => {
        let currentSection = '';
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            currentSection = entry.target.id;
          }
        });
        
        if (currentSection) {
          navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${currentSection}`) {
              link.classList.add('active');
            }
          });
        }
      }, { 
        threshold: 0.3,
        rootMargin: '-80px 0px -60% 0px' // Adjust rootMargin based on header height
      });

      sections.forEach(section => observer.observe(section));
    }

    // Scroll Effects (Header, Progress, BackToTop)
    function initScrollEffects() {
      const header = document.querySelector('header');
      const navbar = document.getElementById('navbar');
      const progressBar = document.getElementById('scroll-progress');
      const backToTopBtn = document.getElementById('back-to-top');

      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY;
        
        // Header
        if (scrollY > 50) {
          header.classList.add('glass', 'shadow-lg');
          navbar.classList.add('py-3');
          navbar.classList.remove('py-4');
        } else {
          header.classList.remove('glass', 'shadow-lg');
          navbar.classList.add('py-4');
          navbar.classList.remove('py-3');
        }
        
        // Scroll Progress
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = (scrollY / docHeight) * 100;
        progressBar.style.width = `${scrollPercent}%`;
        
        // Back to Top
        if (scrollY > 300) {
          backToTopBtn.classList.remove('opacity-0', 'translate-y-4');
          backToTopBtn.classList.add('opacity-100', 'translate-y-0');
        } else {
          backToTopBtn.classList.add('opacity-0', 'translate-y-4');
          backToTopBtn.classList.remove('opacity-100', 'translate-y-0');
        }
      });
      
      backToTopBtn.addEventListener('click', () => {
         window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Scroll Fade-in Animations
    function initScrollAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      document.querySelectorAll('.fade-in-up').forEach(el => {
        observer.observe(el);
      });
    }
    
    // Project/Other Modal System
    function initProjectModalSystem() {
      const modalContainer = document.getElementById('modal-container');
      const openTriggers = document.querySelectorAll('[data-modal-trigger]');
      
      const openModal = (modalId) => {
        const modal = document.getElementById(modalId);
        if (!modal) {
          console.warn('Modal not found:', modalId);
          return; // Don't open if modal isn't for projects
        }
        
        modalContainer.classList.remove('hidden', 'opacity-0');
        modal.classList.remove('hidden', 'scale-95', 'opacity-0');
        modal.classList.add('scale-100', 'opacity-100');
        document.body.style.overflow = 'hidden';
      };

      const closeModal = () => {
        const openModal = modalContainer.querySelector('.modal:not(.hidden)');
        if (openModal) {
          openModal.classList.remove('scale-100', 'opacity-100');
          openModal.classList.add('scale-95', 'opacity-0');
        }
        modalContainer.classList.add('opacity-0');
        
        setTimeout(() => {
          modalContainer.classList.add('hidden');
          openModal?.classList.add('hidden');
          document.body.style.overflow = '';
        }, 300);
      };

      openTriggers.forEach(trigger => {
        trigger.addEventListener('click', (e) => {
          e.preventDefault();
          openModal(trigger.dataset.modalTrigger);
        });
      });

      modalContainer.addEventListener('click', (e) => {
        if (e.target === modalContainer || e.target.closest('[data-modal-close]')) {
          closeModal();
        }
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modalContainer.classList.contains('hidden')) {
          closeModal();
        }
      });
    }

    // Counter Animations
    function initCounterAnimations() {
      const counters = document.querySelectorAll('[data-target]');

      const animateCounter = (counter) => {
        const target = +counter.dataset.target;
        const duration = 2000; // 2 seconds
        let startTime = null;

        const update = (timestamp) => {
          if (!startTime) startTime = timestamp;
          const elapsed = timestamp - startTime;
          const progress = Math.min(1, elapsed / duration);
          const current = Math.floor(progress * target);
          
          counter.innerText = current;

          if (progress < 1) {
            requestAnimationFrame(update);
          } else {
            counter.innerText = target;
          }
        };
        requestAnimationFrame(update);
      };
      
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            animateCounter(entry.target);
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.7 });

      counters.forEach(counter => {
        counter.innerText = '0'; // Start at 0
        observer.observe(counter);
      });
    }

    // Cursor Follower
    function initCursorFollower() {
      const cursor = document.getElementById('cursor');
      if (!cursor || window.innerWidth < 1024) {
        cursor?.classList.add('hidden');
        return;
      }

      let mouseX = -100, mouseY = -100;
      let cursorX = -100, cursorY = -100;
      const speed = 0.1;

      const animate = () => {
        cursorX += (mouseX - cursorX) * speed;
        cursorY += (mouseY - cursorY) * speed;
        cursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;
        requestAnimationFrame(animate);
      };

      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });

      document.querySelectorAll('a, button, [data-modal-trigger], input, textarea, .filter-btn, [role="button"]').forEach(el => {
        el.addEventListener('mouseenter', () => cursor.style.transform = `translate(${cursorX}px, ${cursorY}px) scale(1.5)`);
        el.addEventListener('mouseleave', () => cursor.style.transform = `translate(${cursorX}px, ${cursorY}px) scale(1)`);
      });

      animate();
    }
    
    // Particles Canvas
    function initParticles() {
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
      let particles = [];
      
      const setupCanvas = () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        particles = [];
        let numParticles = Math.floor((canvas.width * canvas.height) / 25000);
        
        for (let i = 0; i < numParticles; i++) {
          particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 0.3,
            vy: (Math.random() - 0.5) * 0.3,
            opacity: Math.random() * 0.4 + 0.1,
            radius: Math.random() * 1.5 + 1
          });
        }
      };
      
      const animate = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const isDark = document.documentElement.classList.contains('dark');
        const particleColor = isDark ? 'rgba(56, 189, 248, 0.6)' : 'rgba(2, 132, 199, 0.6)';

        particles.forEach(p => {
          p.x += p.vx;
          p.y += p.vy;
          if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
          if (p.y < 0 || p.y > canvas.height) p.vy *= -1;

          ctx.beginPath();
          ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
          ctx.fillStyle = particleColor.replace('0.6', p.opacity.toString());
          ctx.fill();
        });
        requestAnimationFrame(animate);
      };

      setupCanvas();
      animate();
      
      window.addEventListener('resize', () => setupCanvas());
    }

    // Loading Screen
    function initLoadingScreen() {
      window.addEventListener('load', () => {
        const loadingScreen = document.getElementById('loading-screen');
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
        }, 1000);
      });
    }

    // --- START: NEW PUBLICATION SCRIPT LOGIC ---
    
    /**
     * Publications dataset
     * Required fields: id, title, authors, venue, year, type
     * Optional: doi, html, pdf, video, code, tags, abstract, bibtex
     */
     const publications = [
       // 2025 â€” Journals
       { id:'trr-2025-drum', type:'Journal', year:2025, venue:'Transportation Research Record', title:'Dynamic Route Planning for Urban Green Mobility: Development of a Web Application Offering Sustainable Route Options to Commuters', authors:'Kapil Kumar Meena; Aditya Kumar Singh; Arkopal Kishore Goswami', doi:'https://doi.org/10.1177/03611981251331011', html:'https://doi.org/10.1177/03611981251331011', pdf:'', video:'https://www.youtube.com', tags:['Routing','AQI','Energy', 'Web App', 'DRUM'] },
       { id:'stl-2025-tod', type:'Journal', year:2025, venue:'Sustainable Transport and Livability', title:'A prioritization framework to identify key attributes of transit-oriented development (TOD) using multi-criteria decision-making (MCDM) approach: an Indian context', authors:'B. S. Manoj; Kapil Kumar Meena; Arkopal K. Goswami', doi:'https://doi.org/10.1080/29941849.2025.2516475', html:'https://doi.org/10.1080/29941849.2025.2516475', tags:['MCDM','TOD', 'Prioritization'] },
       { id:'ijst-2025-bicycle', type:'Journal', year:2025, venue:'International Journal of Sustainable Transportation', title:'Modeling bicycle choice behavior and its potential health impact: Case of first/last mile access to suburban rail', authors:'B. S. Manoj; Kapil Kumar Meena; Hiral Panchal; Gajanand Sharma; Arkopal Kishore Goswami', doi:'https://doi.org/10.1080/15568318.2024.2384786', html: 'https://doi.org/10.1080/15568318.2024.2384786', tags:['Cycling','Health Impact', 'Choice Modelling', 'First/Last Mile'] },
       // 2024 â€” Journals & Conferences
       { id:'tranpol-2024-review', type:'Journal', year:2024, venue:'Transport Policy', title:'A review of air pollution exposure impacts on travel behaviour and way forward', authors:'Kapil Kumar Meena; Arkopal Kishore Goswami', doi:'https://doi.org/10.1016/j.tranpol.2024.05.024', html:'https://doi.org/10.1016/j.tranpol.2024.05.024', tags:['Review','Exposure','Behaviour', 'Systematic Review'] },
       { id:'daj-2024-ml-aqi', type:'Journal', year:2024, venue:'Decision Analytics Journal', title:'A machine learning approach for unraveling the influence of air quality awareness on travel behavior', authors:'Kapil Kumar Meena; Deepak Bairwa; Amit Agarwal', doi:'https://doi.org/10.1016/j.dajour.2024.100459', html:'https://doi.org/10.1016/j.dajour.2024.100459', tags:['Machine Learning','Behaviour', 'AQI Awareness'] },
       { id:'comsnets-2024-mode-choice', type:'Conference', year:2024, venue:'COMSNETS', title:'Impact of air pollution on informed decision-making for choice of a travel mode', authors:'K. K. Meena; R. Taneja; A. Agarwal', doi:'https://doi.org/10.1109/COMSNETS59351.2024.10427003', html:'https://doi.org/10.1109/COMSNETS59351.2024.10427003', tags:['Conference','Mode Choice', 'Decision Making'] },
       // 2023 â€” Journal
       { id:'jth-2023-delhi', type:'Journal', year:2023, venue:'Journal of Transport & Health', title:'Perception of Commuters Towards Air Quality in Delhi', authors:'Kapil Kumar Meena; Vikram Singh; Amit Agarwal', doi:'https://doi.org/10.1016/j.jth.2023.101643', html:'https://doi.org/10.1016/j.jth.2023.101643', tags:['Perception','Delhi', 'Commuter Behavior'] },
        { id:'jtrangeo-2023-tod', type:'Journal', year:2023, venue:'Journal of Transport Geography', title:'Multi-criteria decision making-based prioritization of corridors for the implementation of transit-oriented development', authors:'B. S. Manoj; Kapil Kumar Meena; Arkopal K. Goswami', doi:'https://doi.org/10.1016/j.jtrangeo.2023.103525', html: 'https://doi.org/10.1016/j.jtrangeo.2023.103525', tags:['MCDM','TOD', 'Prioritization', 'Urban Planning'] },
       // 2021 â€” Journal
       { id:'trd-2021-blackspot', type:'Journal', year:2021, venue:'Transportation Research Part D', title:'Development of a methodology for identifying blackspots using network-based kernel density estimation', authors:'Vikram Singh; Kapil Kumar Meena; Amit Agarwal', doi:'https://doi.org/10.1016/j.trd.2021.102871', html:'https://doi.org/10.1016/j.trd.2021.102871', tags:['Road Safety','Blackspot','KDE'] },
       { id:'uclim-2021-review', type:'Journal', year:2021, venue:'Urban Climate', title:'Travellersâ€™ exposure to air pollution: A systematic review and future directions', authors:'Vikram Singh; Kapil Kumar Meena; Amit Agarwal', doi:'https://doi.org/10.1016/j.uclim.2021.100901', html:'https://doi.org/10.1016/j.uclim.2021.100901', tags:['Review','Exposure', 'Systematic Review'] },
       { id:'uclim-2021-exposure', type:'Journal', year:2021, venue:'Urban Climate', title:'Comparative analysis of commutersâ€™ exposure to particulate matter in different transport modes in Delhi', authors:'Vikram Singh; Kapil Kumar Meena; Amit Agarwal; S. M. Shiva Nagendra', doi:'https://doi.org/10.1016/j.uclim.2021.100868', html:'https://doi.org/10.1016/j.uclim.2021.100868', tags:['Exposure','Delhi', 'Particulate Matter', 'Multi-modal'] },

       // Conferences (full list from CV)
       { id:'trb-2026-lcca-dcm', type:'Conference', year:2026, venue:'Transportation Research Board Annual Meeting', title:'Not all travellers think alike: Segmenting travel behaviour under air pollution exposure using a hybrid latent class and discrete choice approach', authors:'Kapil Kumar Meena; Arkopal Kishore Goswami', tags:['TRB','LCCA','Choice Modelling'], abstract:'Accepted for presentation and publication.' },
       { id:'trb-2026-walkability', type:'Conference', year:2026, venue:'Transportation Research Board Annual Meeting', title:'Developing an integrated walkability score using image-based feature extraction and user preferences', authors:'Anshul Singh; Kapil Kumar Meena; Gajanand Sharma; Arkopal Kishore Goswami; Sudheer Mishra', abstract:'Submitted.' },
       { id:'ctrg-2023-pub-2025', type:'Conference', year:2025, venue:'CTRG 2023 (SVNIT Surat)', title:'Dynamic route planning for urban green mobility: Development of a web application offering sustainable route options to commuters', authors:'Kapil Kumar Meena; Aditya Kumar Singh; Arkopal Kishore Goswami', tags:['Routing','AQI','Web App', 'DRUM'] },
       { id:'easts-2025-school', type:'Conference', year:2025, venue:'EASTS', title:'Assessing the air pollution exposure to school children in different modes of transport while commuting to school: A case of Kharagpur, India', authors:'Anusha Sumbhate; Kapil Kumar Meena; Arkopal Kishore Goswami', abstract:'Accepted.', tags:['Exposure', 'School Children', 'Multi-modal'] },
       { id:'wsstl-2025-tod', type:'Conference', year:2025, venue:'WSSTL 2025 (IISc Bengaluru)', title:'A prioritization framework to identify key attributes of transit-oriented development (TOD) using a multi-criteria decision-making approach: An Indian context', authors:'B. S. Manoj; Kapil Kumar Meena; Arkopal Kishore Goswami', tags:['MCDM','TOD', 'Prioritization'] },
       { id:'tipce-2025-access', type:'Conference', year:2025, venue:'TIPCE 2025 (IIT Roorkee)', title:'Accessibility assessment of urban public transit to key facilities through spatial analysis â€“ a case study of Delhi', authors:'Rasagna Kodukulla; Kapil Kumar Meena; Gajanand Sharma; Arkopal Kishore Goswami', abstract:'Accepted.', tags:['Accessibility', 'Public Transit', 'Spatial Analysis', 'Delhi'] },
       { id:'aeee-2025-energies', type:'Conference', year:2025, venue:'AEEE India â€” Energies', title:'Air pollution exposure among Kolkataâ€™s auto-rickshaw drivers: PM variability, health risks, and predictive modeling', authors:'S. Dasgupta; Kapil Kumar Meena; D. Majumdar; Arkopal Goswami', abstract:'Accepted.', tags:['Exposure', 'Health Risk', 'Predictive Modeling', 'Kolkata'] },
       { id:'uaa-2024-breathable', type:'Conference', year:2024, venue:'UAA 2024 (Nashville, USA)', title:'Breathable modes to school: Assessing the air pollution exposure of travel choices for school children in urban environments', authors:'Anusha Sumbhate; Kapil Kumar Meena; Arkopal Kishore Goswami', tags:['Exposure', 'School Children', 'Multi-modal'] },
       { id:'uaa-2024-bicycle', type:'Conference', year:2024, venue:'UAA 2024 (Nashville, USA)', title:'Analysing user behaviour along dedicated bicycle facilities in an urban environment', authors:'P. Mohanty; Kapil Kumar Meena; Arkopal Kishore Goswami', tags:['Cycling','User Behavior'] },
       { id:'iatbr-2024-mumbai', type:'Conference', year:2024, venue:'IATBR 2024 (Vienna, Austria)', title:'Assessing the willingness to bicycle for the first mile to the Mumbai suburban rail', authors:'B. S. Manoj; Kapil Kumar Meena; Hiral Panchal; Gajanand Sharma; Arkopal Goswami', tags:['Cycling','First/Last Mile', 'Choice Modelling', 'Mumbai'] },
       { id:'wctr-2023-review', type:'Conference', year:2023, venue:'WCTR 2023 (MontrÃ©al, Canada)', title:'A review of air pollution exposure impacts on travel behaviour and way forward', authors:'Kapil Kumar Meena; Arkopal Kishore Goswami', tags:['Review','Exposure','Behaviour'] },
       { id:'tpmdc-2022-onroad', type:'Conference', year:2022, venue:'TPMDC 2022 (IIT Bombay)', title:'On-road pollution exposure in multiple transport micro-environments: A case study of Tier-2 and Tier-3 cities in India', authors:'Kapil Kumar Meena; Ranjani Kumar; Arkopal Kishore Goswami', tags:['Exposure', 'Multi-modal', 'Tier-2 Cities'] },

       // Media
       { id:'media-2025-hindu-drum', type:'Media', year:2025, venue:'The Hindu', title:"IIT-KGP app helps commuters pick â€˜greenerâ€™ routes on the road", authors:'Ashmita Gupta', html:'https://www.thehindu.com/sci-tech/energy-and-environment/iit-kgp-app-helps-commuters-pick-greener-routes-on-the-road/article69644558.ece', tags:['Media','DRUM', 'Web App'] },
     ];

     // ===== App Logic =====
     const state = { query:'', year:'', type:'', venue:'', sort:'yearDesc' };
     const els = {
       grouped: document.getElementById('grouped'),
       empty: document.getElementById('emptyState'),
       search: document.getElementById('search'),
       year: document.getElementById('yearFilter'),
       type: document.getElementById('typeFilter'),
       venue: document.getElementById('venueFilter'),
       sort: document.getElementById('sortBy'),
       chips: document.getElementById('activeChips'),
       statTotal: document.getElementById('statTotal'),
     };
     
     // Populate filters
     const years = [...new Set(publications.map(p=>p.year))].sort((a,b)=>b-a);
     years.forEach(y=>{ const o=document.createElement('option'); o.value=y; o.textContent=y; els.year.appendChild(o); });
     const venues = [...new Set(publications.map(p=>p.venue))].sort((a,b)=>a.localeCompare(b));
     venues.forEach(v=>{ const o=document.createElement('option'); o.value=v; o.textContent=v; els.venue.appendChild(o); });

     // Events
     els.search.addEventListener('input', e=>{ state.query=e.target.value.trim(); render(); });
     els.year.addEventListener('change', e=>{ state.year=e.target.value; render(); });
     els.type.addEventListener('change', e=>{ state.type=e.target.value; render(); });
     els.venue.addEventListener('change', e=>{ state.venue=e.target.value; render(); });
     els.sort.addEventListener('change', e=>{ state.sort=e.target.value; render(); });
     window.addEventListener('keydown', (e)=>{ if(e.key==='/' && document.activeElement!==els.search){ e.preventDefault(); els.search.focus(); } });

     function download(filename, text){ const a=document.createElement('a'); a.href=URL.createObjectURL(new Blob([text],{type:'text/plain'})); a.download=filename; a.click(); }
     function toCSV(rows){
       const cols=['id','type','year','venue','title','authors','doi','html','pdf'];
       const header=cols.join(',');
       const body=rows.map(r=>cols.map(c=>`"${(r[c]||'').toString().replace(/"/g,'""')}` ).join(',')).join('\n');
       return header+'\n'+body;
     }

     // Chips
     function chip(label, value, onClear) {
       const wrap = document.createElement('div');
       wrap.className = 'inline-flex items-center gap-2 rounded-full bg-slate-100 dark:bg-slate-800 px-3 py-1 text-sm';
       wrap.innerHTML = `<span class="text-slate-500">${label}:</span><span class="font-medium">${escapeHtml(value)}</span>`;
       const btn = document.createElement('button');
       btn.className = 'ml-1 rounded-full p-1 hover:bg-slate-200 dark:hover:bg-slate-700';
       btn.innerHTML = '<svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path d="M6.4 4.99 5 6.4l5.6 5.6L5 17.6 6.4 19l5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6 5.6-5.6-1.4-1.4-5.6 5.6L6.4 4.99Z"/></svg>';
       btn.addEventListener('click', onClear);
       wrap.appendChild(btn); return wrap;
     }

     // Render
     function render(){
       const filtered = publications
         .filter(p => state.year ? String(p.year)===state.year : true)
         .filter(p => state.type ? p.type===state.type : true)
         .filter(p => state.venue ? p.venue===state.venue : true)
         .filter(p => matchQuery(p, state.query));

       // Sort
       filtered.sort((a,b)=>{
         switch(state.sort){
           case 'yearAsc': return a.year - b.year;
           case 'titleAsc': return a.title.localeCompare(b.title);
           default: return b.year - a.year; // yearDesc
         }
       });

       // Stats
       els.statTotal.textContent = filtered.length;

       // Chips
       els.chips.innerHTML='';
       if(state.query) els.chips.appendChild(chip('Search', state.query, ()=>{ state.query=''; els.search.value=''; render(); }));
       if(state.year) els.chips.appendChild(chip('Year', state.year, ()=>{ state.year=''; els.year.value=''; render(); }));
       if(state.type) els.chips.appendChild(chip('Type', state.type, ()=>{ state.type=''; els.type.value=''; render(); }));
       if(state.venue) els.chips.appendChild(chip('Venue', state.venue, ()=>{ state.venue=''; els.venue.value=''; render(); }));

       // Group by year
       const groups = groupBy(filtered, p=>p.year);
       const yearsSorted = Object.keys(groups).map(Number).sort((a,b)=>b-a);

       els.grouped.innerHTML='';
       if (filtered.length===0){ els.empty.classList.remove('hidden'); return; } else { els.empty.classList.add('hidden'); }

       yearsSorted.forEach(y=>{
         const wrap=document.createElement('section');
         wrap.className='mb-8';
         wrap.innerHTML = `<h2 class='year-sticky text-xl font-semibold bg-slate-50/80 dark:bg-slate-950/60 backdrop-blur py-2 px-2 rounded'>${y}</h2>`;
         const grid=document.createElement('div'); grid.className='mt-3 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4';
         groups[y].forEach(p=> grid.appendChild(card(p)) );
         wrap.appendChild(grid); els.grouped.appendChild(wrap);
       });
     }

     // Card
     function card(p){
       const el=document.createElement('article'); el.className='fade-in rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:shadow-soft transition-shadow';
       el.tabIndex=0; el.setAttribute('role','button');
       el.addEventListener('click', ()=>openModal(p)); el.addEventListener('keydown', e=>{ if(e.key==='Enter') openModal(p); });

       const badge = `<span class='ml-auto shrink-0 rounded-lg ${p.type==='Journal'?'bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300':(p.type==='Conference'?'bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300':'bg-yellow-50 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300')} px-2 py-0.5 text-xs font-medium'>${p.type}</span>`;
       const venue = `<span class='font-medium'>${escapeHtml(p.venue||'')}</span>`;
       const actions = [
         p.html && `<a href='${p.html}' target='_blank' class='btn'>HTML</a>`,
         p.doi && `<a href='${p.doi}' target='_blank' class='btn'>DOI</a>`,
         p.pdf && `<a href='${p.pdf}' target='_blank' class='btn'>PDF</a>`,
         p.video && `<a href='${p.video}' target='_blank' class='btn'>Video</a>`
       ].filter(Boolean).join('');

       el.innerHTML = `
         <div class='p-4'>
           <div class='flex items-start justify-between gap-3'>
             <h3 class='font-semibold leading-snug'>${escapeHtml(p.title)}</h3>
             ${badge}
           </div>
           <div class='mt-1 text-sm text-slate-600 dark:text-slate-400 clamp-2'>${escapeHtml(p.authors||'')} Â· ${venue} Â· ${p.year}</div>
           ${p.tags && p.tags.length ? `<div class='mt-3 flex flex-wrap gap-2'>${p.tags.map(t=>`<span class="text-xs rounded-full bg-slate-100 dark:bg-slate-800 px-2 py-0.5">${escapeHtml(t)}</span>`).join(' ')}</div>`:''}
           <div class='mt-3 flex items-center justify-between'><span></span><div class='flex flex-wrap gap-2'>${actions}</div></div>
         </div>`;
       return el;
     }

     // Modal
     const modal = document.getElementById('modal');
     const modalTitle = document.getElementById('modalTitle');
     const modalMeta = document.getElementById('modalMeta');
     const modalAbstract = document.getElementById('modalAbstract');
     const modalTags = document.getElementById('modalTags');
     const modalActions = document.getElementById('modalActions');
     const modalBib = document.getElementById('modalBib');
     const copyBib = document.getElementById('copyBib');

     function openModal(p){
       modal.classList.remove('hidden');
       modalTitle.textContent = p.title;
       modalMeta.innerHTML = `${escapeHtml(p.authors||'')} Â· <span class="font-medium">${escapeHtml(p.venue||'')}</span> Â· ${p.year}`;
       modalAbstract.textContent = p.abstract||'';
       modalTags.innerHTML = (p.tags||[]).map(t=>`<span class="text-xs rounded-full bg-slate-100 dark:bg-slate-800 px-2 py-0.5">${escapeHtml(t)}</span>`).join(' ');
       modalActions.innerHTML = [ p.html&&`<a class='btn' target='_blank' href='${p.html}'>HTML</a>`, p.doi&&`<a class='btn' target='_blank' href='${p.doi}'>DOI</a>`, p.pdf&&`<a class='btn' target='_blank' href='${p.pdf}'>PDF</a>`, p.video&&`<a class='btn' target='_blank' href='${p.video}'>Video</a>` ].filter(Boolean).join('');
       modalBib.textContent = p.bibtex || bibtexOf(p);
       copyBib.onclick = () => { navigator.clipboard.writeText(modalBib.textContent); copyBib.textContent='Copied!'; setTimeout(()=>copyBib.textContent='Copy', 1200); };
     }
     function closeModal(){ modal.classList.add('hidden'); }
     document.getElementById('modalClose').addEventListener('click', closeModal);
     document.getElementById('modalBackdrop').addEventListener('click', closeModal);

     // Helpers
     function groupBy(arr, key){ return arr.reduce((m,x)=>{ const k=key(x); (m[k]=m[k]||[]).push(x); return m; }, {}); }
     function matchQuery(p,q){ if(!q) return true; const hay=[p.title,p.authors,p.venue,(p.tags||[]).join(' ')].join(' ').toLowerCase(); return q.toLowerCase().split(/\s+/).every(t=>hay.includes(t)); }
     function escapeHtml(s){ return (s||'').replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c])); }
     function bibtexOf(p){
       const key = (p.venue||'').toLowerCase().split(/[^a-z0-9]/).filter(Boolean).slice(0,2).join('') + p.year;
       const authors = (p.authors||'').split(/;|,\s*/).map(a=>a.trim()).filter(Boolean).join(' and ');
       const type = p.type==='Journal' ? 'article' : (p.type==='Conference' ? 'inproceedings' : 'misc');
       const venueField = p.type==='Journal' ? `  journal={${p.venue}},\n` : (p.type==='Conference' ? `  booktitle={${p.venue}},\n` : '');
       const doiField = p.doi ? `  doi={${p.doi.replace('https://doi.org/','')}},\n` : '';
       return `@${type}{${key},\n  title={${p.title}},\n  author={${authors}},\n${venueField}  year={${p.year}},\n${doiField}}`;
     }

     // Enhance .btn links (prevent card click)
     document.addEventListener('click', (e)=>{ const a=e.target.closest('a.btn'); if(!a) return; e.stopPropagation(); });

     // Init
     render();
     
     // --- END: NEW PUBLICATION SCRIPT LOGIC ---

    // Initialize all functions
    document.addEventListener('DOMContentLoaded', () => {
      initThemeToggle();
      initMobileMenu();
      initSmoothScrolling();
      initScrollEffects();
      initScrollAnimations();
      initProjectModalSystem(); // For project modals
      initCounterAnimations();
      initCursorFollower();
      initParticles();
      initLoadingScreen();
      
      // New publication logic is already running (e.fs., render())
    });
  </script>
</body>
</html>
